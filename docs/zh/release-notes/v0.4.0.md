# Release v0.4.0

## 新功能

### `gcop-rs stats` - 仓库统计命令

新增 `stats` 命令，显示仓库提交统计信息：

```bash
gcop-rs stats                    # 文本格式输出
gcop-rs stats --format json      # JSON 格式
gcop-rs stats --format markdown  # Markdown 格式
gcop-rs stats --author "name"    # 按作者过滤
```

**输出示例**：

```
ℹ Repository Statistics
========================================

[] Overview
  Total commits:  156
  Contributors:   3
  Time span:      2024-06-15 ~ 2025-12-23 (192 days)

[] Top Contributors
  #1  AptS-1547 <esaps@esaps.net>  142 commits (91.0%)
  #2  bot <noreply@github.com>      8 commits  (5.1%)
  #3  contributor <x@y.com>         6 commits  (3.8%)

[] Recent Activity (last 4 weeks)
  2025-W52: ████████████           12
  2025-W51: ████████████████████   20
  2025-W50: ██████                  6
  2025-W49: ████████████████       16
```

### `--dry-run` 选项

`commit` 命令新增 `--dry-run` 选项，仅生成并输出提交信息，不实际提交：

```bash
gcop-rs commit --dry-run
```

适用于预览 AI 生成的提交信息，或在脚本中获取提交信息文本。

### 新 Git 别名

- `git s` → `gcop-rs stats` - 快速查看仓库统计

## 依赖变更

- 新增 `chrono = "0.4"` 用于日期时间处理

## 升级说明

从 v0.3.x 升级**无需任何操作**，完全向后兼容。

安装别名后可使用 `git s` 命令：

```bash
gcop-rs alias --force  # 更新别名
```

## 安装

```bash
cargo install gcop-rs
```

或从 [Releases](https://github.com/AptS-1547/gcop-rs/releases) 下载预编译二进制。

## 统计

```
16 个文件变更
+751 行新增
-8 行删除
```

## 反馈

如有问题或建议，欢迎提交 [Issue](https://github.com/AptS-1547/gcop-rs/issues)。
